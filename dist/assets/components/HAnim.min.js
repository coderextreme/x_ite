/* X_ITE v8.8.7 */(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components");var n=e.n(t);const i=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Fields");var o=e.n(i);const s=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Base/X3DFieldDefinition");var r=e.n(s);const a=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Base/FieldDefinitionArray");var u=e.n(a);const l=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components/Rendering/X3DGeometricPropertyNode");var d=e.n(l);const p=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Base/X3DConstants");var w=e.n(p);const c=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Namespace");var m=e.n(c);function h(e){d().call(this,e),this.addType(w().HAnimDisplacer),this._displacements.setUnit("length")}Object.setPrototypeOf(h.prototype,d().prototype),Object.defineProperties(h,{typeName:{value:"HAnimDisplacer",enumerable:!0},componentName:{value:"HAnim",enumerable:!0},containerField:{value:"displacers",enumerable:!0},specificationRange:{value:Object.freeze(["3.0","Infinity"]),enumerable:!0},fieldDefinitions:{value:new(u())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"coordIndex",new(o().MFInt32)),new(r())(w().inputOutput,"weight",new(o().SFFloat)),new(r())(w().inputOutput,"displacements",new(o().MFVec3f))]),enumerable:!0}});const _=h;m().set("x_ite/Components/HAnim/HAnimDisplacer",_);const N=_,O=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components/Core/X3DChildNode");var b=e.n(O);const f=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components/Grouping/Group");var F=e.n(f);const S=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components/Grouping/Transform");var g=e.n(S);const y=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components/Grouping/X3DBoundedObject");var v=e.n(y);const C=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Rendering/TraverseType");var x=e.n(C);const k=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Base/X3DCast");var I=e.n(k);const M=window[Symbol.for("X_ITE.X3D-8.8.7")].require("standard/Math/Numbers/Matrix4");var j=e.n(M);const A=window[Symbol.for("X_ITE.X3D-8.8.7")].require("standard/Math/Numbers/Vector3");var D=e.n(A);function X(e){b().call(this,e),v().call(this,e),this.addType(w().HAnimHumanoid),this._translation.setUnit("length"),this._center.setUnit("length"),this._bboxSize.setUnit("length"),this._bboxCenter.setUnit("length"),this.skeletonNode=new(F())(e),this.viewpointsNode=new(F())(e),this.skinNode=new(F())(e),this.transformNode=new(g())(e),this.jointNodes=[],this.skinNormalNode=null,this.skinCoordNode=null,this.restNormalNode=null,this.restCoordNode=null,this.changed=!1}Object.assign(Object.setPrototypeOf(X.prototype,b().prototype),v().prototype,{initialize(){b().prototype.initialize.call(this),v().prototype.initialize.call(this),this.skeletonNode.setAllowedTypes(w().HAnimJoint,w().HAnimSite),this.viewpointsNode.setAllowedTypes(w().HAnimSite),this._skeleton.addFieldInterest(this.skeletonNode._children),this._viewpoints.addFieldInterest(this.viewpointsNode._children),this._skin.addFieldInterest(this.skinNode._children),this.skeletonNode._children=this._skeleton,this.viewpointsNode._children=this._viewpoints,this.skinNode._children=this._skin,this.skeletonNode.setPrivate(!0),this.viewpointsNode.setPrivate(!0),this.skinNode.setPrivate(!0),this._translation.addFieldInterest(this.transformNode._translation),this._rotation.addFieldInterest(this.transformNode._rotation),this._scale.addFieldInterest(this.transformNode._scale),this._scaleOrientation.addFieldInterest(this.transformNode._scaleOrientation),this._center.addFieldInterest(this.transformNode._center),this._visible.addFieldInterest(this.transformNode._visible),this._bboxDisplay.addFieldInterest(this.transformNode._bboxDisplay),this._bboxSize.addFieldInterest(this.transformNode._bboxSize),this._bboxCenter.addFieldInterest(this.transformNode._bboxCenter),this.transformNode._translation=this._translation,this.transformNode._rotation=this._rotation,this.transformNode._scale=this._scale,this.transformNode._scaleOrientation=this._scaleOrientation,this.transformNode._center=this._center,this.transformNode._visible=this._visible,this.transformNode._bboxDisplay=this._bboxDisplay,this.transformNode._bboxSize=this._bboxSize,this.transformNode._bboxCenter=this._bboxCenter,this.transformNode._children=[this.skeletonNode,this.viewpointsNode,this.skinNode],this.transformNode._isCameraObject.addFieldInterest(this._isCameraObject),this.transformNode._isPickableObject.addFieldInterest(this._isPickableObject),this.skeletonNode.setup(),this.viewpointsNode.setup(),this.skinNode.setup(),this.transformNode.setup(),this.setCameraObject(this.transformNode.isCameraObject()),this.setPickableObject(this.transformNode.isPickableObject()),this._joints.addInterest("set_joints__",this),this._skinNormal.addInterest("set_skinNormal__",this),this._skinCoord.addInterest("set_skinCoord__",this),this.set_joints__(),this.set_skinNormal__(),this.set_skinCoord__()},getBBox(e,t){return this.transformNode.getBBox(e,t)},set_joints__(){const e=this.jointNodes;for(const t of e)t.removeInterest("set_joint__",this);e.length=0;for(const t of this._joints){const n=I()(w().HAnimJoint,t);n&&e.push(n)}for(const t of e)t.addInterest("set_joint__",this);this.set_joint__()},set_joint__(){this.changed=!0},set_skinNormal__(){this.restNormalNode=null,this.skinNormalNode=I()(w().X3DNormalNode,this._skinNormal),this.skinNormalNode&&(this.restNormalNode=this.skinNormalNode.copy()),this.changed=!0},set_skinCoord__(){this.restCoordNode=null,this.skinCoordNode=I()(w().X3DCoordinateNode,this._skinCoord),this.skinCoordNode?(this.restCoordNode=this.skinCoordNode.copy(),delete this.skinning):this.skinning=Function.prototype,this.changed=!0},traverse(e,t){this.transformNode.traverse(e,t),this.skinning(e,t)},skinning:(()=>{const e=new(j()),t=new(D())(0,0,0),n=new(D())(0,0,0),i=new(D())(0,0,0),o=new(D())(0,0,0);return function(s,r){if(s!==x().CAMERA)return;if(!this.changed)return;this.changed=!1;const a=this.jointNodes,u=this.skinNormalNode,l=this.skinCoordNode,d=this.restNormalNode,p=this.restCoordNode;u&&u._vector.assign(d._vector),l._point.assign(p._point),e.assign(this.transformNode.getMatrix()).multRight(r.getModelViewMatrix().get()).inverse();for(const s of a){const r=s._skinCoordIndex.length,a=s.getModelMatrix().multRight(e),w=s.getDisplacers();for(const e of w){const t=e._coordIndex.getValue(),n=e._coordIndex.length,s=e._weight.getValue(),r=e._displacements.getValue(),u=e._displacements.length;for(let e=0;e<n;++e){const n=3*e,d=t[e],p=e<u?o.set(r[n],r[n+1],r[n+2]):o.assign(D().Zero);l.get1Point(d,i),a.multDirMatrix(p).multiply(s).add(i),l.set1Point(d,p)}}const c=u?a.submatrix.transpose().inverse():null,m=s._skinCoordIndex.getValue(),h=s._skinCoordWeight.getValue(),_=s._skinCoordWeight.length;for(let e=0;e<r;++e){const s=m[e],r=e<_?h[e]:1;u&&(n.assign(d.get1Vector(s,t)),u.get1Vector(s,i),c.multVecMatrix(t).subtract(n).multiply(r).add(i),u.set1Vector(s,t)),n.assign(p.get1Point(s,o)),l.get1Point(s,i),a.multVecMatrix(o).subtract(n).multiply(r).add(i),l.set1Point(s,o)}}}})(),toVRMLStream(e){this.skinCoordNode&&(this.skinCoordNode._point=this.restCoordNode._point),this.skinNormalNode&&(this.skinNormalNode._vector=this.restNormalNode._vector),b().prototype.toVRMLStream.call(this,e)},toXMLStream(e){this.skinCoordNode&&(this.skinCoordNode._point=this.restCoordNode._point),this.skinNormalNode&&(this.skinNormalNode._vector=this.restNormalNode._vector),b().prototype.toXMLStream.call(this,e)},toJSONStream(e){this.skinCoordNode&&(this.skinCoordNode._point=this.restCoordNode._point),this.skinNormalNode&&(this.skinNormalNode._vector=this.restNormalNode._vector),b().prototype.toJSONStream.call(this,e)},dispose(){v().prototype.dispose.call(this),b().prototype.dispose.call(this)}}),Object.defineProperties(X,{typeName:{value:"HAnimHumanoid",enumerable:!0},componentName:{value:"HAnim",enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze(["3.0","Infinity"]),enumerable:!0},fieldDefinitions:{value:new(u())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"version",new(o().SFString)),new(r())(w().inputOutput,"info",new(o().MFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"jointBindingPositions",new(o().MFVec3f)),new(r())(w().inputOutput,"jointBindingRotations",new(o().MFRotation)),new(r())(w().inputOutput,"jointBindingScales",new(o().MFVec3f)),new(r())(w().inputOutput,"motionsEnabled",new(o().MFBool)),new(r())(w().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(w().inputOutput,"skeletalConfiguration",new(o().SFString)("BASIC")),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOutput,"skeleton",new(o().MFNode)),new(r())(w().inputOutput,"viewpoints",new(o().MFNode)),new(r())(w().inputOutput,"sites",new(o().MFNode)),new(r())(w().inputOutput,"segments",new(o().MFNode)),new(r())(w().inputOutput,"joints",new(o().MFNode)),new(r())(w().inputOutput,"motions",new(o().MFNode)),new(r())(w().inputOutput,"skinBindingNormal",new(o().SFNode)),new(r())(w().inputOutput,"skinBindingCoord",new(o().SFNode)),new(r())(w().inputOutput,"skinNormal",new(o().SFNode)),new(r())(w().inputOutput,"skinCoord",new(o().SFNode)),new(r())(w().inputOutput,"skin",new(o().MFNode))]),enumerable:!0}});const H=X;m().set("x_ite/Components/HAnim/HAnimHumanoid",H);const T=H,V=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components/Grouping/X3DTransformNode");var z=e.n(V);function B(e){z().call(this,e),this.addType(w().HAnimJoint),this.setAllowedTypes(w().HAnimJoint,w().HAnimSegment,w().HAnimSite),this.displacerNodes=[],this.modelMatrix=new(j())}Object.assign(Object.setPrototypeOf(B.prototype,z().prototype),{initialize(){z().prototype.initialize.call(this),this._skinCoordIndex.addInterest("set_skinCoordIndex__",this),this._displacers.addInterest("set_displacers__",this),this.set_displacers__()},setCameraObject(e){z().prototype.setCameraObject.call(this,e||!!this._skinCoordIndex.length)},getModelMatrix(){return this.modelMatrix},getDisplacers(){return this.displacerNodes},set_skinCoordIndex__(){this.set_cameraObjects__()},set_displacers__(){const e=this.displacerNodes;e.length=0;for(const t of this._displacers){const n=I()(w().HAnimDisplacer,t);n&&e.push(n)}},traverse(e,t){e===x().CAMERA&&this._skinCoordIndex.length&&this.modelMatrix.assign(this.getMatrix()).multRight(t.getModelViewMatrix().get()),z().prototype.traverse.call(this,e,t)},groupTraverse(e,t){e===x().CAMERA&&this._skinCoordIndex.length&&this.modelMatrix.assign(t.getModelViewMatrix().get()),z().prototype.groupTraverse.call(this,e,t)}}),Object.defineProperties(B,{typeName:{value:"HAnimJoint",enumerable:!0},componentName:{value:"HAnim",enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze(["3.0","Infinity"]),enumerable:!0},fieldDefinitions:{value:new(u())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"llimit",new(o().MFFloat)),new(r())(w().inputOutput,"ulimit",new(o().MFFloat)),new(r())(w().inputOutput,"limitOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"stiffness",new(o().MFFloat)(0,0,0)),new(r())(w().inputOutput,"skinCoordIndex",new(o().MFInt32)),new(r())(w().inputOutput,"skinCoordWeight",new(o().MFFloat)),new(r())(w().inputOutput,"displacers",new(o().MFNode)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),enumerable:!0}});const P=B;m().set("x_ite/Components/HAnim/HAnimJoint",P);const R=P;function E(e){b().call(this,e),this.addType(w().HAnimMotion)}Object.assign(Object.setPrototypeOf(E.prototype,b().prototype),{initialize(){b().prototype.initialize.call(this)}}),Object.defineProperties(E,{typeName:{value:"HAnimMotion",enumerable:!0},componentName:{value:"HAnim",enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze(["4.0","Infinity"]),enumerable:!0},fieldDefinitions:{value:new(u())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"enabled",new(o().SFBool)(!0)),new(r())(w().inputOnly,"next",new(o().SFBool)),new(r())(w().inputOnly,"previous",new(o().SFBool)),new(r())(w().inputOutput,"frameDuration",new(o().SFTime)(.1)),new(r())(w().inputOutput,"frameIncrement",new(o().SFInt32)(1)),new(r())(w().inputOutput,"frameIndex",new(o().SFInt32)(0)),new(r())(w().inputOutput,"loop",new(o().SFBool)),new(r())(w().inputOutput,"channels",new(o().SFString)),new(r())(w().inputOutput,"channelsEnabled",new(o().MFBool)),new(r())(w().inputOutput,"joints",new(o().SFString)),new(r())(w().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(w().inputOutput,"startFrame",new(o().SFInt32)),new(r())(w().inputOutput,"endFrame",new(o().SFInt32)),new(r())(w().inputOutput,"values",new(o().MFFloat)),new(r())(w().outputOnly,"cycleTime",new(o().SFTime)),new(r())(w().outputOnly,"elapsedTime",new(o().SFTime)),new(r())(w().outputOnly,"frameCount",new(o().SFInt32))]),enumerable:!0}});const q=E;m().set("x_ite/Components/HAnim/HAnimMotion",q);const G=q,J=window[Symbol.for("X_ITE.X3D-8.8.7")].require("x_ite/Components/Grouping/X3DGroupingNode");var U=e.n(J);function L(e){U().call(this,e),this.addType(w().HAnimSegment),this._mass.setUnit("mass")}Object.setPrototypeOf(L.prototype,U().prototype),Object.defineProperties(L,{typeName:{value:"HAnimSegment",enumerable:!0},componentName:{value:"HAnim",enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze(["3.0","Infinity"]),enumerable:!0},fieldDefinitions:{value:new(u())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"mass",new(o().SFFloat)),new(r())(w().inputOutput,"centerOfMass",new(o().SFVec3f)),new(r())(w().inputOutput,"momentsOfInertia",new(o().MFFloat)(0,0,0,0,0,0,0,0,0)),new(r())(w().inputOutput,"displacers",new(o().MFNode)),new(r())(w().inputOutput,"coord",new(o().SFNode)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),enumerable:!0}});const W=L;m().set("x_ite/Components/HAnim/HAnimSegment",W);const Z=W;function K(e){z().call(this,e),this.addType(w().HAnimSite)}Object.setPrototypeOf(K.prototype,z().prototype),Object.defineProperties(K,{typeName:{value:"HAnimSite",enumerable:!0},componentName:{value:"HAnim",enumerable:!0},containerField:{value:"children",enumerable:!0},specificationRange:{value:Object.freeze(["3.0","Infinity"]),enumerable:!0},fieldDefinitions:{value:new(u())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),enumerable:!0}});const Q=K;m().set("x_ite/Components/HAnim/HAnimSite",Q);const Y=Q;n().add({name:"HAnim",concreteNodes:[N,T,R,G,Z,Y],abstractNodes:[]});const $=void 0;m().set("assets/components/HAnim",$)})();
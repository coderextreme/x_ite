/* X_ITE v8.3.0 */(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components");var n=t.n(e);const i=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Fields");var o=t.n(i);const s=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Base/X3DFieldDefinition");var r=t.n(s);const u=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Base/FieldDefinitionArray");var a=t.n(u);const p=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components/Rendering/X3DGeometricPropertyNode");var d=t.n(p);const l=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Base/X3DConstants");var w=t.n(l);const c=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Namespace");var m=t.n(c);function h(t){d().call(this,t),this.addType(w().HAnimDisplacer),this._displacements.setUnit("length")}h.prototype=Object.assign(Object.create(d().prototype),{constructor:h,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"coordIndex",new(o().MFInt32)),new(r())(w().inputOutput,"weight",new(o().SFFloat)),new(r())(w().inputOutput,"displacements",new(o().MFVec3f))]),getTypeName:function(){return"HAnimDisplacer"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"displacers"}});const _=h;m().set("x_ite/Components/HAnim/HAnimDisplacer",_);const f=_,O=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components/Core/X3DChildNode");var N=t.n(O);const F=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components/Grouping/Group");var S=t.n(F);const g=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components/Grouping/Transform");var b=t.n(g);const y=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components/Grouping/X3DBoundedObject");var C=t.n(y);const x=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Rendering/TraverseType");var v=t.n(x);const M=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Base/X3DCast");var I=t.n(M);const k=window[Symbol.for("X_ITE.X3D-8.3.0")].require("standard/Math/Numbers/Matrix4");var A=t.n(k);const X=window[Symbol.for("X_ITE.X3D-8.3.0")].require("standard/Math/Numbers/Vector3");var D,T,H,j,B,V=t.n(X);function E(t){N().call(this,t),C().call(this,t),this.addType(w().HAnimHumanoid),this._translation.setUnit("length"),this._center.setUnit("length"),this._bboxSize.setUnit("length"),this._bboxCenter.setUnit("length"),this.viewpointsNode=new(S())(t),this.skeletonNode=new(S())(t),this.skinNode=new(S())(t),this.transformNode=new(b())(t),this.jointNodes=[],this.skinNormalNode=null,this.skinCoordNode=null,this.restNormalNode=null,this.restCoordNode=null}E.prototype=Object.assign(Object.create(N().prototype),C().prototype,{constructor:E,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"version",new(o().SFString)),new(r())(w().inputOutput,"info",new(o().MFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"jointBindingPositions",new(o().MFVec3f)),new(r())(w().inputOutput,"jointBindingRotations",new(o().MFRotation)),new(r())(w().inputOutput,"jointBindingScales",new(o().MFVec3f)),new(r())(w().inputOutput,"motionsEnabled",new(o().MFBool)),new(r())(w().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(w().inputOutput,"skeletalConfiguration",new(o().SFString)("BASIC")),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOutput,"viewpoints",new(o().MFNode)),new(r())(w().inputOutput,"sites",new(o().MFNode)),new(r())(w().inputOutput,"joints",new(o().MFNode)),new(r())(w().inputOutput,"segments",new(o().MFNode)),new(r())(w().inputOutput,"motions",new(o().MFNode)),new(r())(w().inputOutput,"skeleton",new(o().MFNode)),new(r())(w().inputOutput,"skinBindingNormal",new(o().SFNode)),new(r())(w().inputOutput,"skinBindingCoord",new(o().SFNode)),new(r())(w().inputOutput,"skinNormal",new(o().SFNode)),new(r())(w().inputOutput,"skinCoord",new(o().SFNode)),new(r())(w().inputOutput,"skin",new(o().MFNode))]),getTypeName:function(){return"HAnimHumanoid"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},initialize:function(){N().prototype.initialize.call(this),C().prototype.initialize.call(this),this.viewpointsNode.setAllowedTypes(w().HAnimSite),this.skeletonNode.setAllowedTypes(w().HAnimJoint,w().HAnimSite),this._viewpoints.addFieldInterest(this.viewpointsNode._children),this._skeleton.addFieldInterest(this.skeletonNode._children),this._skin.addFieldInterest(this.skinNode._children),this.viewpointsNode._children=this._viewpoints,this.skeletonNode._children=this._skeleton,this.skinNode._children=this._skin,this.viewpointsNode.setPrivate(!0),this.skeletonNode.setPrivate(!0),this.skinNode.setPrivate(!0),this._translation.addFieldInterest(this.transformNode._translation),this._rotation.addFieldInterest(this.transformNode._rotation),this._scale.addFieldInterest(this.transformNode._scale),this._scaleOrientation.addFieldInterest(this.transformNode._scaleOrientation),this._center.addFieldInterest(this.transformNode._center),this._bboxSize.addFieldInterest(this.transformNode._bboxSize),this._bboxCenter.addFieldInterest(this.transformNode._bboxCenter),this.transformNode._translation=this._translation,this.transformNode._rotation=this._rotation,this.transformNode._scale=this._scale,this.transformNode._scaleOrientation=this._scaleOrientation,this.transformNode._center=this._center,this.transformNode._bboxSize=this._bboxSize,this.transformNode._bboxCenter=this._bboxCenter,this.transformNode._children=[this.viewpointsNode,this.skeletonNode,this.skinNode],this.transformNode._isCameraObject.addFieldInterest(this._isCameraObject),this.transformNode._isPickableObject.addFieldInterest(this._isPickableObject),this.viewpointsNode.setup(),this.skeletonNode.setup(),this.skinNode.setup(),this.transformNode.setup(),this.setCameraObject(this.transformNode.getCameraObject()),this.setPickableObject(this.transformNode.getPickableObject()),this._joints.addInterest("set_joints__",this),this._skinNormal.addInterest("set_skinNormal__",this),this._skinCoord.addInterest("set_skinCoord__",this),this.set_joints__(),this.set_skinNormal__(),this.set_skinCoord__()},getBBox:function(t,e){return this.transformNode.getBBox(t,e)},set_joints__:function(){var t=this.jointNodes;t.length=0;for(var e=0,n=this._joints.length;e<n;++e){var i=I()(w().HAnimJoint,this._joints[e]);i&&t.push(i)}},set_skinNormal__:function(){this.restNormalNode=null,this.skinNormalNode=I()(w().X3DNormalNode,this._skinNormal),this.skinNormalNode&&(this.restNormalNode=this.skinNormalNode.copy())},set_skinCoord__:function(){this.restCoordNode=null,this.skinCoordNode=I()(w().X3DCoordinateNode,this._skinCoord),this.skinCoordNode&&(this.restCoordNode=this.skinCoordNode.copy())},traverse:function(t,e){this.transformNode.traverse(t,e),this.skinning(t,e)},skinning:(D=new(A()),T=new(V())(0,0,0),H=new(V())(0,0,0),j=new(V())(0,0,0),B=new(V())(0,0,0),function(t,e){if(t===v().CAMERA&&this.skinCoordNode){var n=this.jointNodes,i=this.skinNormalNode,o=this.skinCoordNode,s=this.restNormalNode,r=this.restCoordNode;i&&i._vector.assign(s._vector),o._point.assign(r._point),D.assign(this.transformNode.getMatrix()).multRight(e.getModelViewMatrix().get()).inverse();for(var u=0,a=n.length;u<a;++u){var p=n[u],d=p._skinCoordIndex.length;if(0!==d){for(var l=p.getModelMatrix().multRight(D),w=p.getDisplacers(),c=0,m=w.length;c<m;++c)for(var h=w[c],_=h._coordIndex.getValue(),f=h._coordIndex.length,O=h._weight.getValue(),N=h._displacements.getValue(),F=h._displacements.length,S=0;S<f;++S){var g=3*S,b=_[S],y=S<F?B.set(N[g],N[g+1],N[g+2]):B.assign(V().Zero);o.get1Point(b,j),l.multDirMatrix(y).multiply(O).add(j),o.set1Point(b,y)}var C=i?l.submatrix.transpose().inverse():null,x=p._skinCoordIndex.getValue(),M=p._skinCoordWeight.getValue(),I=p._skinCoordWeight.length;for(S=0;S<d;++S)b=x[S],O=S<I?M[S]:1,i&&(H.assign(s.get1Vector(b,T)),i.get1Vector(b,j),C.multVecMatrix(T).subtract(H).multiply(O).add(j),i.set1Vector(b,T)),H.assign(r.get1Point(b,B)),o.get1Point(b,j),l.multVecMatrix(B).subtract(H).multiply(O).add(j),o.set1Point(b,B)}}}}),dispose:function(){C().prototype.dispose.call(this),N().prototype.dispose.call(this)}});const z=E;m().set("x_ite/Components/HAnim/HAnimHumanoid",z);const q=z,R=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components/Grouping/X3DTransformNode");var P=t.n(R);function G(t){P().call(this,t),this.addType(w().HAnimJoint),this.setAllowedTypes(w().HAnimJoint,w().HAnimSegment,w().HAnimSite),this.displacerNodes=[],this.modelMatrix=new(A())}G.prototype=Object.assign(Object.create(P().prototype),{constructor:G,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"llimit",new(o().MFFloat)),new(r())(w().inputOutput,"ulimit",new(o().MFFloat)),new(r())(w().inputOutput,"limitOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"stiffness",new(o().MFFloat)(0,0,0)),new(r())(w().inputOutput,"skinCoordIndex",new(o().MFInt32)),new(r())(w().inputOutput,"skinCoordWeight",new(o().MFFloat)),new(r())(w().inputOutput,"displacers",new(o().MFNode)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimJoint"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},initialize:function(){P().prototype.initialize.call(this),this._displacers.addInterest("set_displacers__",this),this.set_displacers__()},setCameraObject:function(t){P().prototype.setCameraObject.call(this,t||!!this._skinCoordIndex.length)},getModelMatrix:function(){return this.modelMatrix},getDisplacers:function(){return this.displacerNodes},set_displacers__:function(){const t=this.displacerNodes;t.length=0;for(var e=0,n=this._displacers.length;e<n;++e){const n=I()(w().HAnimDisplacer,this._displacers[e]);n&&t.push(n)}},getTraverse:function(){const t=P().prototype.getTraverse();function e(e,n){e===v().CAMERA&&this.modelMatrix.assign(this.getMatrix()).multRight(n.getModelViewMatrix().get()),t.call(this,e,n)}return function(){return this._skinCoordIndex.length?e:t}}(),getGroupTraverse:function(){const t=P().prototype.getGroupTraverse();function e(e,n){e===v().CAMERA&&this.modelMatrix.assign(n.getModelViewMatrix().get()),t.call(this,e,n)}return function(){return this._skinCoordIndex.length?e:t}}()});const J=G;m().set("x_ite/Components/HAnim/HAnimJoint",J);const U=J;function W(t){N().call(this,t),this.addType(w().HAnimMotion)}W.prototype=Object.assign(Object.create(N().prototype),{constructor:W,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"enabled",new(o().SFBool)(!0)),new(r())(w().inputOnly,"next",new(o().SFBool)),new(r())(w().inputOnly,"previous",new(o().SFBool)),new(r())(w().inputOutput,"frameDuration",new(o().SFTime)(.1)),new(r())(w().inputOutput,"frameIncrement",new(o().SFInt32)(1)),new(r())(w().inputOutput,"frameIndex",new(o().SFInt32)(0)),new(r())(w().inputOutput,"loop",new(o().SFBool)(!1)),new(r())(w().inputOutput,"channels",new(o().SFString)),new(r())(w().inputOutput,"channelsEnabled",new(o().MFBool)),new(r())(w().inputOutput,"joints",new(o().MFString)),new(r())(w().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(w().inputOutput,"startFrame",new(o().SFInt32)),new(r())(w().inputOutput,"endFrame",new(o().SFInt32)),new(r())(w().inputOutput,"values",new(o().MFFloat)),new(r())(w().outputOnly,"cycleTime",new(o().SFTime)),new(r())(w().outputOnly,"elapsedTime",new(o().SFTime)),new(r())(w().outputOnly,"frameCount",new(o().SFInt32))]),getTypeName:function(){return"HAnimMotion"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},initialize:function(){N().prototype.initialize.call(this)}});const Z=W;m().set("x_ite/Components/HAnim/HAnimMotion",Z);const K=Z,L=window[Symbol.for("X_ITE.X3D-8.3.0")].require("x_ite/Components/Grouping/X3DGroupingNode");var Q=t.n(L);function Y(t){Q().call(this,t),this.addType(w().HAnimSegment),this._mass.setUnit("mass")}Y.prototype=Object.assign(Object.create(Q().prototype),{constructor:Y,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"mass",new(o().SFFloat)),new(r())(w().inputOutput,"centerOfMass",new(o().SFVec3f)),new(r())(w().inputOutput,"momentsOfInertia",new(o().MFFloat)(0,0,0,0,0,0,0,0,0)),new(r())(w().inputOutput,"displacers",new(o().MFNode)),new(r())(w().inputOutput,"coord",new(o().SFNode)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimSegment"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"}});const $=Y;m().set("x_ite/Components/HAnim/HAnimSegment",$);const tt=$;function et(t){P().call(this,t),this.addType(w().HAnimSite)}et.prototype=Object.assign(Object.create(P().prototype),{constructor:et,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(w().inputOutput,"metadata",new(o().SFNode)),new(r())(w().inputOutput,"description",new(o().SFString)),new(r())(w().inputOutput,"name",new(o().SFString)),new(r())(w().inputOutput,"translation",new(o().SFVec3f)),new(r())(w().inputOutput,"rotation",new(o().SFRotation)),new(r())(w().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(w().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(w().inputOutput,"center",new(o().SFVec3f)),new(r())(w().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(w().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(w().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(w().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(w().inputOnly,"addChildren",new(o().MFNode)),new(r())(w().inputOnly,"removeChildren",new(o().MFNode)),new(r())(w().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimSite"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"}});const nt=et;m().set("x_ite/Components/HAnim/HAnimSite",nt);const it=nt;n().addComponent({name:"HAnim",types:{HAnimDisplacer:f,HAnimHumanoid:q,HAnimJoint:U,HAnimMotion:K,HAnimSegment:tt,HAnimSite:it},abstractTypes:{}});const ot=void 0;m().set("assets/components/HAnim",ot)})();
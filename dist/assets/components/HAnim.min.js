/* X_ITE v8.7.0 */(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components");var n=t.n(e);const i=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Fields");var o=t.n(i);const s=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Base/X3DFieldDefinition");var r=t.n(s);const u=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Base/FieldDefinitionArray");var a=t.n(u);const d=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components/Rendering/X3DGeometricPropertyNode");var p=t.n(d);const l=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Base/X3DConstants");var c=t.n(l);const w=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Namespace");var h=t.n(w);function m(t){p().call(this,t),this.addType(c().HAnimDisplacer),this._displacements.setUnit("length")}m.prototype=Object.assign(Object.create(p().prototype),{constructor:m,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(c().inputOutput,"metadata",new(o().SFNode)),new(r())(c().inputOutput,"description",new(o().SFString)),new(r())(c().inputOutput,"name",new(o().SFString)),new(r())(c().inputOutput,"coordIndex",new(o().MFInt32)),new(r())(c().inputOutput,"weight",new(o().SFFloat)),new(r())(c().inputOutput,"displacements",new(o().MFVec3f))]),getTypeName:function(){return"HAnimDisplacer"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"displacers"},getSpecificationRange:function(){return["3.0","Infinity"]}});const _=m;h().set("x_ite/Components/HAnim/HAnimDisplacer",_);const f=_,N=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components/Core/X3DChildNode");var S=t.n(N);const O=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components/Grouping/Group");var F=t.n(O);const g=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components/Grouping/Transform");var b=t.n(g);const y=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components/Grouping/X3DBoundedObject");var C=t.n(y);const x=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Rendering/TraverseType");var k=t.n(x);const I=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Base/X3DCast");var M=t.n(I);const v=window[Symbol.for("X_ITE.X3D-8.7.0")].require("standard/Math/Numbers/Matrix4");var D=t.n(v);const X=window[Symbol.for("X_ITE.X3D-8.7.0")].require("standard/Math/Numbers/Vector3");var A=t.n(X);function H(t){S().call(this,t),C().call(this,t),this.addType(c().HAnimHumanoid),this._translation.setUnit("length"),this._center.setUnit("length"),this._bboxSize.setUnit("length"),this._bboxCenter.setUnit("length"),this.skeletonNode=new(F())(t),this.viewpointsNode=new(F())(t),this.skinNode=new(F())(t),this.transformNode=new(b())(t),this.jointNodes=[],this.skinNormalNode=null,this.skinCoordNode=null,this.restNormalNode=null,this.restCoordNode=null,this.changed=!1}H.prototype=Object.assign(Object.create(S().prototype),C().prototype,{constructor:H,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(c().inputOutput,"metadata",new(o().SFNode)),new(r())(c().inputOutput,"description",new(o().SFString)),new(r())(c().inputOutput,"name",new(o().SFString)),new(r())(c().inputOutput,"version",new(o().SFString)),new(r())(c().inputOutput,"info",new(o().MFString)),new(r())(c().inputOutput,"translation",new(o().SFVec3f)),new(r())(c().inputOutput,"rotation",new(o().SFRotation)),new(r())(c().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(c().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(c().inputOutput,"center",new(o().SFVec3f)),new(r())(c().inputOutput,"jointBindingPositions",new(o().MFVec3f)),new(r())(c().inputOutput,"jointBindingRotations",new(o().MFRotation)),new(r())(c().inputOutput,"jointBindingScales",new(o().MFVec3f)),new(r())(c().inputOutput,"motionsEnabled",new(o().MFBool)),new(r())(c().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(c().inputOutput,"skeletalConfiguration",new(o().SFString)("BASIC")),new(r())(c().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(c().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(c().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(c().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(c().inputOutput,"skeleton",new(o().MFNode)),new(r())(c().inputOutput,"viewpoints",new(o().MFNode)),new(r())(c().inputOutput,"sites",new(o().MFNode)),new(r())(c().inputOutput,"segments",new(o().MFNode)),new(r())(c().inputOutput,"joints",new(o().MFNode)),new(r())(c().inputOutput,"motions",new(o().MFNode)),new(r())(c().inputOutput,"skinBindingNormal",new(o().SFNode)),new(r())(c().inputOutput,"skinBindingCoord",new(o().SFNode)),new(r())(c().inputOutput,"skinNormal",new(o().SFNode)),new(r())(c().inputOutput,"skinCoord",new(o().SFNode)),new(r())(c().inputOutput,"skin",new(o().MFNode))]),getTypeName:function(){return"HAnimHumanoid"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},getSpecificationRange:function(){return["3.0","Infinity"]},initialize:function(){S().prototype.initialize.call(this),C().prototype.initialize.call(this),this.skeletonNode.setAllowedTypes(c().HAnimJoint,c().HAnimSite),this.viewpointsNode.setAllowedTypes(c().HAnimSite),this._skeleton.addFieldInterest(this.skeletonNode._children),this._viewpoints.addFieldInterest(this.viewpointsNode._children),this._skin.addFieldInterest(this.skinNode._children),this.skeletonNode._children=this._skeleton,this.viewpointsNode._children=this._viewpoints,this.skinNode._children=this._skin,this.skeletonNode.setPrivate(!0),this.viewpointsNode.setPrivate(!0),this.skinNode.setPrivate(!0),this._translation.addFieldInterest(this.transformNode._translation),this._rotation.addFieldInterest(this.transformNode._rotation),this._scale.addFieldInterest(this.transformNode._scale),this._scaleOrientation.addFieldInterest(this.transformNode._scaleOrientation),this._center.addFieldInterest(this.transformNode._center),this._visible.addFieldInterest(this.transformNode._visible),this._bboxDisplay.addFieldInterest(this.transformNode._bboxDisplay),this._bboxSize.addFieldInterest(this.transformNode._bboxSize),this._bboxCenter.addFieldInterest(this.transformNode._bboxCenter),this.transformNode._translation=this._translation,this.transformNode._rotation=this._rotation,this.transformNode._scale=this._scale,this.transformNode._scaleOrientation=this._scaleOrientation,this.transformNode._center=this._center,this.transformNode._visible=this._visible,this.transformNode._bboxDisplay=this._bboxDisplay,this.transformNode._bboxSize=this._bboxSize,this.transformNode._bboxCenter=this._bboxCenter,this.transformNode._children=[this.skeletonNode,this.viewpointsNode,this.skinNode],this.transformNode._isCameraObject.addFieldInterest(this._isCameraObject),this.transformNode._isPickableObject.addFieldInterest(this._isPickableObject),this.skeletonNode.setup(),this.viewpointsNode.setup(),this.skinNode.setup(),this.transformNode.setup(),this.setCameraObject(this.transformNode.isCameraObject()),this.setPickableObject(this.transformNode.isPickableObject()),this._joints.addInterest("set_joints__",this),this._skinNormal.addInterest("set_skinNormal__",this),this._skinCoord.addInterest("set_skinCoord__",this),this.set_joints__(),this.set_skinNormal__(),this.set_skinCoord__()},getBBox:function(t,e){return this.transformNode.getBBox(t,e)},set_joints__:function(){const t=this.jointNodes;for(const e of t)e.removeInterest("set_joint__",this);t.length=0;for(const e of this._joints){const n=M()(c().HAnimJoint,e);n&&t.push(n)}for(const e of t)e.addInterest("set_joint__",this);this.set_joint__()},set_joint__:function(){this.changed=!0},set_skinNormal__:function(){this.restNormalNode=null,this.skinNormalNode=M()(c().X3DNormalNode,this._skinNormal),this.skinNormalNode&&(this.restNormalNode=this.skinNormalNode.copy()),this.changed=!0},set_skinCoord__:function(){this.restCoordNode=null,this.skinCoordNode=M()(c().X3DCoordinateNode,this._skinCoord),this.skinCoordNode?(this.restCoordNode=this.skinCoordNode.copy(),delete this.skinning):this.skinning=Function.prototype,this.changed=!0},traverse:function(t,e){this.transformNode.traverse(t,e),this.skinning(t,e)},skinning:function(){const t=new(D()),e=new(A())(0,0,0),n=new(A())(0,0,0),i=new(A())(0,0,0),o=new(A())(0,0,0);return function(s,r){if(s!==k().CAMERA)return;if(!this.changed)return;this.changed=!1;const u=this.jointNodes,a=this.skinNormalNode,d=this.skinCoordNode,p=this.restNormalNode,l=this.restCoordNode;a&&a._vector.assign(p._vector),d._point.assign(l._point),t.assign(this.transformNode.getMatrix()).multRight(r.getModelViewMatrix().get()).inverse();for(const s of u){const r=s._skinCoordIndex.length,u=s.getModelMatrix().multRight(t),c=s.getDisplacers();for(const t of c){const e=t._coordIndex.getValue(),n=t._coordIndex.length,s=t._weight.getValue(),r=t._displacements.getValue(),a=t._displacements.length;for(let t=0;t<n;++t){const n=3*t,p=e[t],l=t<a?o.set(r[n],r[n+1],r[n+2]):o.assign(A().Zero);d.get1Point(p,i),u.multDirMatrix(l).multiply(s).add(i),d.set1Point(p,l)}}const w=a?u.submatrix.transpose().inverse():null,h=s._skinCoordIndex.getValue(),m=s._skinCoordWeight.getValue(),_=s._skinCoordWeight.length;for(let t=0;t<r;++t){const s=h[t],r=t<_?m[t]:1;a&&(n.assign(p.get1Vector(s,e)),a.get1Vector(s,i),w.multVecMatrix(e).subtract(n).multiply(r).add(i),a.set1Vector(s,e)),n.assign(l.get1Point(s,o)),d.get1Point(s,i),u.multVecMatrix(o).subtract(n).multiply(r).add(i),d.set1Point(s,o)}}}}(),toVRMLStream:function(t){this.skinCoordNode&&(this.skinCoordNode._point=this.restCoordNode._point),this.skinNormalNode&&(this.skinNormalNode._vector=this.restNormalNode._vector),S().prototype.toVRMLStream.call(this,t)},toXMLStream:function(t){this.skinCoordNode&&(this.skinCoordNode._point=this.restCoordNode._point),this.skinNormalNode&&(this.skinNormalNode._vector=this.restNormalNode._vector),S().prototype.toXMLStream.call(this,t)},toJSONStream:function(t){this.skinCoordNode&&(this.skinCoordNode._point=this.restCoordNode._point),this.skinNormalNode&&(this.skinNormalNode._vector=this.restNormalNode._vector),S().prototype.toJSONStream.call(this,t)},dispose:function(){C().prototype.dispose.call(this),S().prototype.dispose.call(this)}});const T=H;h().set("x_ite/Components/HAnim/HAnimHumanoid",T);const j=T,V=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components/Grouping/X3DTransformNode");var B=t.n(V);function E(t){B().call(this,t),this.addType(c().HAnimJoint),this.setAllowedTypes(c().HAnimJoint,c().HAnimSegment,c().HAnimSite),this.displacerNodes=[],this.modelMatrix=new(D())}E.prototype=Object.assign(Object.create(B().prototype),{constructor:E,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(c().inputOutput,"metadata",new(o().SFNode)),new(r())(c().inputOutput,"description",new(o().SFString)),new(r())(c().inputOutput,"name",new(o().SFString)),new(r())(c().inputOutput,"translation",new(o().SFVec3f)),new(r())(c().inputOutput,"rotation",new(o().SFRotation)),new(r())(c().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(c().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(c().inputOutput,"center",new(o().SFVec3f)),new(r())(c().inputOutput,"llimit",new(o().MFFloat)),new(r())(c().inputOutput,"ulimit",new(o().MFFloat)),new(r())(c().inputOutput,"limitOrientation",new(o().SFRotation)),new(r())(c().inputOutput,"stiffness",new(o().MFFloat)(0,0,0)),new(r())(c().inputOutput,"skinCoordIndex",new(o().MFInt32)),new(r())(c().inputOutput,"skinCoordWeight",new(o().MFFloat)),new(r())(c().inputOutput,"displacers",new(o().MFNode)),new(r())(c().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(c().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(c().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(c().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(c().inputOnly,"addChildren",new(o().MFNode)),new(r())(c().inputOnly,"removeChildren",new(o().MFNode)),new(r())(c().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimJoint"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},getSpecificationRange:function(){return["3.0","Infinity"]},initialize:function(){B().prototype.initialize.call(this),this._skinCoordIndex.addInterest("set_skinCoordIndex__",this),this._displacers.addInterest("set_displacers__",this),this.set_displacers__()},setCameraObject:function(t){B().prototype.setCameraObject.call(this,t||!!this._skinCoordIndex.length)},getModelMatrix:function(){return this.modelMatrix},getDisplacers:function(){return this.displacerNodes},set_skinCoordIndex__:function(){this.set_cameraObjects__()},set_displacers__:function(){const t=this.displacerNodes;t.length=0;for(const e of this._displacers){const n=M()(c().HAnimDisplacer,e);n&&t.push(n)}},traverse:function(t,e){t===k().CAMERA&&this._skinCoordIndex.length&&this.modelMatrix.assign(this.getMatrix()).multRight(e.getModelViewMatrix().get()),B().prototype.traverse.call(this,t,e)},groupTraverse:function(t,e){t===k().CAMERA&&this._skinCoordIndex.length&&this.modelMatrix.assign(e.getModelViewMatrix().get()),B().prototype.groupTraverse.call(this,t,e)}});const R=E;h().set("x_ite/Components/HAnim/HAnimJoint",R);const z=R;function q(t){S().call(this,t),this.addType(c().HAnimMotion)}q.prototype=Object.assign(Object.create(S().prototype),{constructor:q,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(c().inputOutput,"metadata",new(o().SFNode)),new(r())(c().inputOutput,"description",new(o().SFString)),new(r())(c().inputOutput,"enabled",new(o().SFBool)(!0)),new(r())(c().inputOnly,"next",new(o().SFBool)),new(r())(c().inputOnly,"previous",new(o().SFBool)),new(r())(c().inputOutput,"frameDuration",new(o().SFTime)(.1)),new(r())(c().inputOutput,"frameIncrement",new(o().SFInt32)(1)),new(r())(c().inputOutput,"frameIndex",new(o().SFInt32)(0)),new(r())(c().inputOutput,"loop",new(o().SFBool)),new(r())(c().inputOutput,"channels",new(o().SFString)),new(r())(c().inputOutput,"channelsEnabled",new(o().MFBool)),new(r())(c().inputOutput,"joints",new(o().MFString)),new(r())(c().inputOutput,"loa",new(o().SFInt32)(-1)),new(r())(c().inputOutput,"startFrame",new(o().SFInt32)),new(r())(c().inputOutput,"endFrame",new(o().SFInt32)),new(r())(c().inputOutput,"values",new(o().MFFloat)),new(r())(c().outputOnly,"cycleTime",new(o().SFTime)),new(r())(c().outputOnly,"elapsedTime",new(o().SFTime)),new(r())(c().outputOnly,"frameCount",new(o().SFInt32))]),getTypeName:function(){return"HAnimMotion"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},getSpecificationRange:function(){return["4.0","Infinity"]},initialize:function(){S().prototype.initialize.call(this)}});const P=q;h().set("x_ite/Components/HAnim/HAnimMotion",P);const J=P,G=window[Symbol.for("X_ITE.X3D-8.7.0")].require("x_ite/Components/Grouping/X3DGroupingNode");var U=t.n(G);function L(t){U().call(this,t),this.addType(c().HAnimSegment),this._mass.setUnit("mass")}L.prototype=Object.assign(Object.create(U().prototype),{constructor:L,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(c().inputOutput,"metadata",new(o().SFNode)),new(r())(c().inputOutput,"description",new(o().SFString)),new(r())(c().inputOutput,"name",new(o().SFString)),new(r())(c().inputOutput,"mass",new(o().SFFloat)),new(r())(c().inputOutput,"centerOfMass",new(o().SFVec3f)),new(r())(c().inputOutput,"momentsOfInertia",new(o().MFFloat)(0,0,0,0,0,0,0,0,0)),new(r())(c().inputOutput,"displacers",new(o().MFNode)),new(r())(c().inputOutput,"coord",new(o().SFNode)),new(r())(c().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(c().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(c().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(c().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(c().inputOnly,"addChildren",new(o().MFNode)),new(r())(c().inputOnly,"removeChildren",new(o().MFNode)),new(r())(c().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimSegment"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},getSpecificationRange:function(){return["3.0","Infinity"]}});const W=L;h().set("x_ite/Components/HAnim/HAnimSegment",W);const Z=W;function K(t){B().call(this,t),this.addType(c().HAnimSite)}K.prototype=Object.assign(Object.create(B().prototype),{constructor:K,[Symbol.for("X_ITE.X3DBaseNode.fieldDefinitions")]:new(a())([new(r())(c().inputOutput,"metadata",new(o().SFNode)),new(r())(c().inputOutput,"description",new(o().SFString)),new(r())(c().inputOutput,"name",new(o().SFString)),new(r())(c().inputOutput,"translation",new(o().SFVec3f)),new(r())(c().inputOutput,"rotation",new(o().SFRotation)),new(r())(c().inputOutput,"scale",new(o().SFVec3f)(1,1,1)),new(r())(c().inputOutput,"scaleOrientation",new(o().SFRotation)),new(r())(c().inputOutput,"center",new(o().SFVec3f)),new(r())(c().inputOutput,"visible",new(o().SFBool)(!0)),new(r())(c().inputOutput,"bboxDisplay",new(o().SFBool)),new(r())(c().initializeOnly,"bboxSize",new(o().SFVec3f)(-1,-1,-1)),new(r())(c().initializeOnly,"bboxCenter",new(o().SFVec3f)),new(r())(c().inputOnly,"addChildren",new(o().MFNode)),new(r())(c().inputOnly,"removeChildren",new(o().MFNode)),new(r())(c().inputOutput,"children",new(o().MFNode))]),getTypeName:function(){return"HAnimSite"},getComponentName:function(){return"HAnim"},getContainerField:function(){return"children"},getSpecificationRange:function(){return["3.0","Infinity"]}});const Q=K;h().set("x_ite/Components/HAnim/HAnimSite",Q);const Y=Q;n().addComponent({name:"HAnim",types:{HAnimDisplacer:f,HAnimHumanoid:j,HAnimJoint:z,HAnimMotion:J,HAnimSegment:Z,HAnimSite:Y},abstractTypes:{}});const $=void 0;h().set("assets/components/HAnim",$)})();